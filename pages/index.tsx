import { useContext } from "react";
import Head from "next/head";
import type { NextPage } from "next";

import styles from "../styles/Home.module.css";

import * as Types from "../types/comment";
import * as Styles from "./index.styles";

import ComponentsCommentList from "../components/comment/list";
import ComponentsCommentNew from "../components/comment/new";
import ContainersComment from "../containers/comment";

import ContextCommentProvider, { CommentContext } from "../context/comment";

const Home: NextPage = () => {
  const submitComment = (comment: Types.Comment) => {
    // const updatedComments = [...comments, comment];

    // setComments(updatedComments);
  };

  return (
    <div className={styles.container}>
      <Head>
        <title>Frontend Mentor | Interactive Comment Section</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <Styles.Main>
        <ContextCommentProvider>
          <ContainersComment />
        </ContextCommentProvider>
          {/* <ComponentsCommentList
            comments={comments}
            currentUser={currentUser}
            setComments={setComments}
          />
          <ComponentsCommentNew
            currentUser={currentUser}
            submitComment={submitComment}
          /> */}
      </Styles.Main>

      <footer className={styles.attribution}>
        Challenge by{" "}
        <a
          href="https://www.frontendmentor.io?ref=challenge"
          rel="noreferrer"
          target="_blank"
        >
          Frontend Mentor
        </a>
        . Coded by <a href="#">Jomar H. Cui</a>.
      </footer>
    </div>
  );
};

export default Home;
